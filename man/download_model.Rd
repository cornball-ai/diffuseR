% Generated by rhydrogen: do not edit by hand
% Please edit documentation in R/download_model.R
\name{download_model}
\alias{download_model}
\title{Download TorchScript model files for Stable Diffusion}
\usage{
download_model(
  model_name = "sd21",
  devices = list(unet = "cpu", decoder = "cpu", text_encoder = "cpu"),
  unet_dtype_str = NULL,
  overwrite = FALSE,
  show_progress = TRUE,
  download_models = FALSE
)
}
\arguments{
\item{model_name}{Name of the model (e.g., "sd21" for stable-diffusion-2-1)}

\item{devices}{Either a single device string or a named list with elements 'unet', 'decoder', 'text_encoder'; optionally 'encoder'}

\item{unet_dtype_str}{Optional: "float16" or "float32" (only applies if unet uses CUDA)}

\item{overwrite}{If TRUE, overwrite existing model files}

\item{show_progress}{Show download progress messages}

\item{download_models}{If TRUE, download the model files from Hugging Face}
}
\value{
A list with `model_dir` and `model_files`
}
\description{
Downloads the required model files (e.g., UNet, decoder, text encoder, and tokenizer)
for a given Stable Diffusion model into a local user-specific data directory.
The files will be stored in a persistent path returned by [tools::R_user_dir()], typically:
\itemize{
\item macOS: `~/Library/Application Support/diffuseR/`
\item Linux: `~/.local/share/R/diffuseR/`
\item Windows: `C:/Users/<username>/AppData/Local/diffuseR/`
}
Each model is stored in its own subdirectory for better organization.
If the files already exist, they will not be downloaded again unless `overwrite = TRUE`.
}
\examples{
\dontrun{
model_dir <- download_model("sd21")
}

}
