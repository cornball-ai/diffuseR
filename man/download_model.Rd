% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/download_model.R
\name{download_model}
\alias{download_model}
\title{Download TorchScript model files for Stable Diffusion}
\usage{
download_model(
  model_name = "stable-diffusion-2-1",
  devices = list(unet = "cpu", decoder = "cpu", text_encoder = "cpu"),
  unet_dtype_str = NULL,
  overwrite = FALSE,
  show_progress = TRUE
)
}
\arguments{
\item{model_name}{Name of the model (e.g., "stable-diffusion-2-1")}

\item{devices}{Either a single device string or a named list with elements 'unet', 'decoder', 'text_encoder'; optionally 'encoder'}

\item{unet_dtype_str}{Optional: "float16" or "float32" (only applies if unet uses CUDA)}

\item{overwrite}{If TRUE, overwrite existing model files}

\item{show_progress}{Show download progress messages}
}
\value{
A list with \code{model_dir} and \code{model_files}
}
\description{
Downloads the required model files (e.g., UNet, decoder, text encoder, and tokenizer)
for a given Stable Diffusion model into a local user-specific data directory.
}
\details{
The files will be stored in a persistent path returned by \code{\link[tools:userdir]{tools::R_user_dir()}}, typically:
\itemize{
\item macOS: \verb{~/Library/Application Support/diffuseR/}
\item Linux: \verb{~/.local/share/diffuseR/}
\item Windows: \verb{C:/Users/<username>/AppData/Local/diffuseR/}
}

Each model is stored in its own subdirectory for better organization.
If the files already exist, they will not be downloaded again unless \code{overwrite = TRUE}.
}
\examples{
\dontrun{
model_dir <- download_model("stable-diffusion-2-1")
}

}
