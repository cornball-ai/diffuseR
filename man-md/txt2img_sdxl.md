<!-- diffuseR::txt2img_sdxl -->
<!-- Generated by fyi::use_fyi_docs() -->

### Generate an image from a text prompt using a diffusion pipeline

#### Description

Generate an image from a text prompt using a diffusion pipeline

#### Usage

```r
txt2img_sdxl(prompt, negative_prompt, img_dim, pipeline, devices, unet_dtype_str, download_models, scheduler, timesteps, initial_latents, num_inference_steps, guidance_scale, seed, save_file, filename, metadata_path, use_native_decoder, use_native_text_encoder, use_native_unet, ...)
```

#### Arguments

- **`prompt`**: A character string prompt describing the image to generate.
- **`negative_prompt`**: Optional negative prompt to guide the generation.
- **`img_dim`**: Dimension of the output image (e.g., 512 for 512x512).
- **`pipeline`**: Optional A pre-loaded diffusion pipeline. If `NULL`, it will be loaded based on the model name and devices.
- **`devices`**: A named list of devices for each model component (e.g., `list(unet = "cuda", decoder = "cpu", text_encoder = "cpu")`).
- **`unet_dtype_str`**: Optional A character for dtype of the unet component (typically "float16" for cuda and "float32" for cpu; float32 is available for cuda).
- **`download_models`**: Logical indicating whether to download the model files if they are not found.
- **`scheduler`**: Scheduler to use (e.g., `"ddim"`, `"euler"`).
- **`timesteps`**: Optional A vector of timesteps to use.
- **`initial_latents`**: Optional initial latents for the diffusion process.
- **`num_inference_steps`**: Number of inference steps to run.
- **`guidance_scale`**: Scale for classifier-free guidance (typically 7.5).
- **`seed`**: Optional seed for reproducibility.
- **`save_file`**: Logical indicating whether to save the generated image.
- **`filename`**: Optional filename for saving the image. If `NULL`, a default name is generated.
- **`metadata_path`**: Optional file path to save metadata.
- **`use_native_decoder`**: Logical; if TRUE, uses native R torch decoder instead of TorchScript. Native decoder has better GPU compatibility (especially Blackwell).
- **`use_native_text_encoder`**: Logical; if TRUE, uses native R torch text encoder instead of TorchScript. Native text encoder has better GPU compatibility (especially Blackwell).
- **`use_native_unet`**: Logical; if TRUE, uses native R torch UNet instead of TorchScript. Native UNet has better GPU compatibility (especially Blackwell).
- **`...`**: Additional parameters passed to the diffusion process.

#### Value

An image array and metadata

#### Examples

```r
img <- txt2img("a cat wearing sunglasses in space", device = "cuda")
```

